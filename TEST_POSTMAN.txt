â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ§ª SCRIPTS POSTMAN - TECH INFO PLUS API
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Base URL : http://localhost:8000

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TEST 1 : AUTHENTIFICATION (Login)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Method : POST
URL : http://localhost:8000/api/auth/login
Headers :
  Content-Type: application/json

Body (JSON) :
{
  "nom_utilisateur": "admin",
  "mot_de_passe": "admin"
}

RÃ©ponse attendue (200 OK) :
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer",
  "user": {
    "id_utilisateur": 1,
    "nom": "Admin",
    "prenom": "SystÃ¨me",
    "email": "admin@techinfo.bi",
    "role": "Admin",
    "actif": true
  }
}

âœ… Indicateurs de rÃ©ussite :
   - Status Code: 200
   - access_token prÃ©sent
   - user.role = "Admin"

âš ï¸ Si erreur :
   - 401: Identifiants incorrects
   - 404: Endpoint non trouvÃ©
   - 500: ProblÃ¨me serveur


â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
TEST 2 : LISTER LES CLIENTS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Method : GET
URL : http://localhost:8000/api/clients
Headers :
  Authorization: Bearer [TOKEN_RECU_DANS_TEST_1]
  Content-Type: application/json

âš ï¸ IMPORTANT : Remplace [TOKEN_RECU_DANS_TEST_1] par le access_token 
   reÃ§u dans la rÃ©ponse du TEST 1.

Exemple :
  Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIx...

RÃ©ponse attendue (200 OK) :
[
  {
    "id_client": 1,
    "nom": "Client Exemple",
    "adresse": "123 Rue Principale",
    "telephone": "+241 01 23 45 67",
    "email": "client@exemple.com",
    "nif": "12345",
    "type_client": "particulier",
    "numero_client": "CLI-2025-001",
    "ville": "Port-Gentil",
    "created_at": "2025-01-15T10:30:00"
  },
  {
    "id_client": 2,
    "nom": "Entreprise ABC",
    ...
  }
]

âœ… Indicateurs de rÃ©ussite :
   - Status Code: 200
   - Tableau JSON avec liste des clients
   - Chaque client a: id_client, nom, email, type_client

âš ï¸ Si erreur :
   - 401: Token invalide ou expirÃ©
   - 403: Droits insuffisants
   - 500: ProblÃ¨me serveur


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“‹ INSTRUCTIONS D'UTILISATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

1. Lancer le backend FastAPI :
   cd backend
   python app.py
   OU
   uvicorn app:app --reload --host 0.0.0.0 --port 8000

2. VÃ©rifier que l'API est accessible :
   Ouvrir : http://localhost:8000/docs
   La documentation Swagger interactive s'affiche.

3. Dans Postman :

   a) Test d'authentification :
      â€¢ CrÃ©er une nouvelle requÃªte POST
      â€¢ URL: http://localhost:8000/api/auth/login
      â€¢ Onglet "Body" â†’ "raw" â†’ "JSON"
      â€¢ Coller le body du TEST 1
      â€¢ Cliquer "Send"
      â€¢ Copier le access_token reÃ§u dans la rÃ©ponse

   b) Test liste clients :
      â€¢ CrÃ©er une nouvelle requÃªte GET
      â€¢ URL: http://localhost:8000/api/clients
      â€¢ Onglet "Headers"
      â€¢ Ajouter : Key="Authorization", Value="Bearer [VOTRE_TOKEN]"
      â€¢ Cliquer "Send"

4. VÃ©rifier les rÃ©ponses :
   âœ… 200 = SuccÃ¨s
   âœ… Contenu JSON correct
   âŒ 4xx = Erreur client (401, 404, etc.)
   âŒ 5xx = Erreur serveur


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ”§ VARIABLES ENVIRONNEMENT POSTMAN (Optionnel)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Dans Postman, crÃ©er un environnement "Tech Info Plus" :

Variables :
  base_url : http://localhost:8000
  access_token : (vide initialement)

Dans le Test Script du TEST 1 (authentification) :
  pm.environment.set("access_token", pm.response.json().access_token);

Dans le TEST 2, utiliser :
  Authorization: Bearer {{access_token}}


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ“Š AUTRES ENDPOINTS Ã€ TESTER
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GET  /api/articles              â†’ Liste des articles
GET  /api/devis                 â†’ Liste des devis
GET  /api/factures              â†’ Liste des factures
GET  /api/stock/mouvements      â†’ Mouvements de stock
GET  /api/rapports/ventes       â†’ Rapports de ventes

POST /api/clients               â†’ CrÃ©er un client
POST /api/articles              â†’ CrÃ©er un article
POST /api/devis                 â†’ CrÃ©er un devis

PUT  /api/clients/{id}          â†’ Modifier un client
PUT  /api/articles/{id}         â†’ Modifier un article

DELETE /api/clients/{id}        â†’ Supprimer (dÃ©sactiver) un client


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ” CREDENTIALS PAR DÃ‰FAUT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Username : admin
Password : admin

âš ï¸ Ã€ MODIFIER EN PRODUCTION !


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… TOUT EST PRÃŠT POUR TESTER !
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


