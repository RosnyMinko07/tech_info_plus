â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
GUIDE DE MIGRATION DES DONNÃ‰ES MYSQL â†’ SUPABASE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Ce script va transfÃ©rer TOUTES vos donnÃ©es de MySQL vers Supabase:
âœ… Utilisateurs (avec mots de passe hashÃ©s)
âœ… Clients
âœ… Fournisseurs
âœ… Articles
âœ… Devis et lignes de devis
âœ… Factures et lignes de facture
âœ… RÃ¨glements
âœ… Ventes comptoir
âœ… Mouvements de stock
âœ… Signalements de bugs
âœ… Configuration entreprise


PRÃ‰REQUIS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. âœ… Les tables doivent Ãªtre crÃ©Ã©es sur Supabase (backend/supabase_schema.sql)
2. âœ… Votre base MySQL locale doit Ãªtre accessible
3. âœ… Vous devez avoir votre DATABASE_URL Supabase


Ã‰TAPE 1: INSTALLER LES DÃ‰PENDANCES
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ouvrez un terminal dans le dossier backend:

cd backend
pip install pymysql psycopg2-binary python-dotenv


Ã‰TAPE 2: VÃ‰RIFIER VOTRE CONFIGURATION MYSQL
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Ouvrez backend/config.env et vÃ©rifiez:

MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=root
MYSQL_PASSWORD=votre_mot_de_passe
MYSQL_DATABASE=tech_info_plus


Ã‰TAPE 3: RÃ‰CUPÃ‰RER VOTRE DATABASE_URL SUPABASE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. Allez sur https://supabase.com/dashboard
2. SÃ©lectionnez votre projet
3. Project Settings > Database
4. Connection string > URI
5. Copiez la chaÃ®ne complÃ¨te:
   postgresql://postgres:[PASSWORD]@db.xxx.supabase.co:5432/postgres
6. Remplacez [PASSWORD] par votre vrai mot de passe


Ã‰TAPE 4: EXÃ‰CUTER LA MIGRATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Dans le terminal (dossier backend):

python migrate_to_supabase.py

Le script va vous demander:
"Entrez votre DATABASE_URL Supabase: "

Collez votre DATABASE_URL complÃ¨te et appuyez sur EntrÃ©e.


Ã‰TAPE 5: ATTENDRE LA FIN
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Le script va:
1. Se connecter Ã  MySQL
2. Se connecter Ã  Supabase
3. Migrer chaque table dans l'ordre
4. Afficher la progression:
   ğŸ“‹ Migration de la table 'utilisateur'...
      âœ… 5 lignes migrÃ©es
   
   ğŸ“‹ Migration de la table 'client'...
      âœ… 48 lignes migrÃ©es
   
   etc.

5. Afficher le message final:
   âœ… MIGRATION TERMINÃ‰E AVEC SUCCÃˆS !


VÃ‰RIFICATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

AprÃ¨s la migration, vÃ©rifiez sur Supabase:

1. Allez dans "Table Editor"
2. VÃ©rifiez que les tables contiennent des donnÃ©es:
   - utilisateur: devrait avoir vos utilisateurs
   - client: devrait avoir vos clients
   - facture: devrait avoir vos factures
   - etc.


EN CAS D'ERREUR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Si une erreur se produit:
âŒ ERREUR DURANT LA MIGRATION
âœ… Rollback effectuÃ©, aucune donnÃ©e n'a Ã©tÃ© modifiÃ©e

Le script annule automatiquement toutes les modifications.
Vos donnÃ©es Supabase restent intactes.

Causes possibles:
1. DATABASE_URL incorrect
2. MySQL non accessible
3. Tables pas crÃ©Ã©es sur Supabase
4. ProblÃ¨me de connexion internet


APRÃˆS LA MIGRATION RÃ‰USSIE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

1. âœ… Toutes vos donnÃ©es sont sur Supabase
2. âœ… Les utilisateurs peuvent se connecter avec leurs anciens mots de passe
3. âœ… Tout l'historique est prÃ©servÃ©

Prochaines Ã©tapes:
1. Configurer DATABASE_URL sur Render
2. RedÃ©ployer le backend
3. Tester la connexion


EXEMPLE D'EXÃ‰CUTION RÃ‰USSIE
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

$ python migrate_to_supabase.py
Entrez votre DATABASE_URL Supabase: postgresql://postgres:xxx@db.xxx.supabase.co:5432/postgres

======================================================================
MIGRATION MYSQL â†’ SUPABASE POSTGRESQL
======================================================================

ğŸ“¦ Connexion Ã  MySQL...
âœ… Connexion MySQL rÃ©ussie

ğŸ“¦ Connexion Ã  Supabase PostgreSQL...
âœ… Connexion Supabase rÃ©ussie

ğŸš€ DÃ©but de la migration...

ğŸ“‹ Migration de la table 'entreprise'...
   âœ… 1 lignes migrÃ©es

ğŸ“‹ Migration de la table 'utilisateur'...
   âœ… 5 lignes migrÃ©es

ğŸ“‹ Migration de la table 'client'...
   âœ… 48 lignes migrÃ©es

ğŸ“‹ Migration de la table 'article'...
   âœ… 8 lignes migrÃ©es

ğŸ“‹ Migration de la table 'devis'...
   âœ… 34 lignes migrÃ©es

ğŸ“‹ Migration de la table 'facture'...
   âœ… 39 lignes migrÃ©es

======================================================================
âœ… MIGRATION TERMINÃ‰E AVEC SUCCÃˆS !
======================================================================

Toutes vos donnÃ©es ont Ã©tÃ© transfÃ©rÃ©es vers Supabase PostgreSQL.
Vous pouvez maintenant:
1. Configurer DATABASE_URL sur Render
2. RedÃ©ployer votre backend
3. Tester la connexion avec vos utilisateurs existants

ğŸ”’ Connexions fermÃ©es


IMPORTANT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš ï¸ Ce script ne modifie PAS votre base MySQL locale
âš ï¸ Il copie seulement les donnÃ©es vers Supabase
âš ï¸ Votre base MySQL reste intacte
âš ï¸ Vous pouvez relancer le script si nÃ©cessaire (il faudra vider Supabase avant)

